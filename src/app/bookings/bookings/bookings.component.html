<ion-grid>
  <ion-row>
    <ion-col size-lg="12">
      <div class="alert alert-primary" role="alert" [hidden]="dinga">
        <ion-icon
          name="information-circle-outline"
          size="large"
          class="info"
        ></ion-icon>
        Bookings list Review a list of all room bookings. Using the quick
        buttons below, you can manually add a new booking, change its status,
        edit booking details, browse and delete bookings.
        <ion-icon
          name="close-outline"
          size="large"
          class="close"
          (click)="dinga = !dinga"
        ></ion-icon>
      </div>
    </ion-col>
    <ion-col size-lg="12" class="">
      <ion-row>
        <ion-col sizeLg="2" class="pt-3">
          <ion-button class="buttonColor" routerLink="/bookings/addbooking"
            >+ Add booking</ion-button
          ></ion-col
        >
        <ion-col sizeLg="5">
          <ion-row>
            <ion-col sizeLg="10">
              <!-- Searchbar with a custom debounce -->
              <ion-searchbar debounce="500" class="buttonColor"></ion-searchbar>
            </ion-col>
            <ion-col sizeLg="2">
              <ion-button
                class="buttonColor"
                id="headingOne"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseOne"
                aria-expanded="true"
                aria-controls="collapseOne"
              >
                <ion-icon name="chevron-down-outline"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-col>
        <ion-col sizeLg="5" class="pt-3">
          <ion-button class="buttonColor">All</ion-button>
          <ion-button class="buttonColor">Pending</ion-button>
          <ion-button class="buttonColor">Confirmed</ion-button>
          <ion-button class="buttonColor">Cancelled</ion-button>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col sizeLg="12">
      <div class="accordion backgroundd" id="accordionExample">
        <div class="accordion-item backgroundd">
          <div
            id="collapseOne"
            class="accordion-collapse collapse show"
            aria-labelledby="headingOne"
            data-bs-parent="#accordionExample"
          >
            <div class="accordion-body">
              <ion-grid>
                <ion-row>
                  <ion-col sizeLg="6">
                    <ion-row>
                      <ion-col sizeLg="2">
                        <ion-text>client</ion-text>
                      </ion-col>
                      <ion-col sizeLg="10">
                        <ion-item>
                          <ion-label position="floating">
                            <ion-icon name="search-outline"></ion-icon>
                            client here
                          </ion-label>
                          <ion-input type="text"></ion-input>
                        </ion-item>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col sizeLg="6">
                    <ion-row>
                      <ion-col sizeLg="2">
                        <ion-text>Date</ion-text>
                      </ion-col>
                      <ion-col sizeLg="10">
                        <mat-form-field appearance="fill">
                          <mat-label>Enter a date range</mat-label>
                          <mat-date-range-input
                            [formGroup]="range"
                            [rangePicker]="picker"
                          >
                            <input
                              matStartDate
                              formControlName="start"
                              placeholder="Start date"
                            />
                            <input
                              matEndDate
                              formControlName="end"
                              placeholder="End date"
                            />
                          </mat-date-range-input>
                          <mat-datepicker-toggle
                            matSuffix
                            [for]="picker"
                          ></mat-datepicker-toggle>
                          <mat-date-range-picker
                            #picker
                          ></mat-date-range-picker>

                          <mat-error
                            *ngIf="
                              range.controls.start.hasError(
                                'matStartDateInvalid'
                              )
                            "
                            >Invalid start date</mat-error
                          >
                          <mat-error
                            *ngIf="
                              range.controls.end.hasError('matEndDateInvalid')
                            "
                            >Invalid end date</mat-error
                          >
                        </mat-form-field>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col sizeLg="6">
                    <ion-row>
                      <ion-col sizeLg="2">
                        <ion-text>Room</ion-text>
                      </ion-col>
                      <ion-col sizeLg="10">
                        <div class="dropdown">
                          <ion-button
                            class="buttonColor btn-border-none"
                            type="button"
                            id="dropdownMenuButton2"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            choose
                          </ion-button>
                          <ul
                            class="dropdown-menu drop-bgcolor"
                            aria-labelledby="dropdownMenuButton2"
                          >
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Panaromic Room</a
                              >
                            </li>
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Small Confernce Room</a
                              >
                            </li>
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Large Confernce Room</a
                              >
                            </li>
                          </ul>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                  <ion-col sizeLg="6">
                    <ion-row>
                      <ion-col sizeLg="2">
                        <ion-text>Status</ion-text>
                      </ion-col>
                      <ion-col sizeLg="10">
                        <div class="dropdown">
                          <ion-button
                            class="buttonColor btn-border-none"
                            type="button"
                            id="dropdownMenuButton2"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                          >
                            choose
                          </ion-button>

                          <ul
                            class="dropdown-menu drop-bgcolor"
                            aria-labelledby="dropdownMenuButton2"
                          >
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Pnding</a
                              >
                            </li>
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Confirmed</a
                              >
                            </li>
                            <li>
                              <a class="dropdown-item drop-bgcolor" href="#"
                                >Cancel</a
                              >
                            </li>
                          </ul>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col class="d-flex justify-content-center">
                    <ion-button class="buttonColor">search</ion-button>
                    <ion-button
                      class="buttonColor"
                      id="headingOne"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapseOne"
                      aria-expanded="true"
                      aria-controls="collapseOne"
                      >Cancel</ion-button
                    >
                  </ion-col>
                </ion-row>
              </ion-grid>
            </div>
          </div>
        </div>
      </div>
    </ion-col>

    <ion-col size-lg="12" >
      <ion-col size-lg="12" *ngIf="loadSpinner&&ELEMENT_DATA.length==0" >
        <div class="ion-text-center">
          <ion-spinner></ion-spinner>
        </div>
      </ion-col>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" *ngIf="!loadSpinner&&ELEMENT_DATA.length!==0">
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox
              (change)="$event ? masterToggle() : null"
              [checked]="selection.hasValue() && isAllSelected()"
              [indeterminate]="selection.hasValue() && !isAllSelected()"
              [aria-label]="checkboxLabel()"
            >
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let row">
            <mat-checkbox
              (click)="$event.stopPropagation()"
              (change)="$event ? selection.toggle(row) : null"
              [checked]="selection.isSelected(row)"
              [aria-label]="checkboxLabel(row)"
            >
            </mat-checkbox>
          </td>
        </ng-container>

        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef>position</th>
          <td mat-cell *matCellDef="let element">{{ element.position }}</td>
        </ng-container>
        <ng-container matColumnDef="room">
          <th mat-header-cell *matHeaderCellDef>Room</th>
          <td mat-cell *matCellDef="let element">{{ element.room }}</td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let element">{{ element.date }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element">{{ element.name }}</td>
        </ng-container>

        <ng-container matColumnDef="total">
          <th mat-header-cell *matHeaderCellDef>Total</th>
          <td mat-cell *matCellDef="let element">{{ element.total }}</td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef class="">Status</th>
          <td mat-cell *matCellDef="let element" class="ms-5">
            <div class="input-group">
              <div
                id="dropdownMenuLink"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <ion-input
                  [value]="element.status"
                  class="dropdown-toggle"
                ></ion-input>
              </div>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <li>
                  <a
                    class="dropdown-item"
                    (click)="editValue(element.status)"
                    >{{ element.status }}</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" #aa (click)="editValue(aa)">
                    {{
                      element.status == "Confirmed"
                        ? "cancel"
                        : element.status == "canceld"
                        ? "Pending"
                        : element.status == "Pending"
                        ? "canceld"
                        : "Confirmed"
                    }}</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" #bb (click)="editValue(bb)">
                    {{
                      element.status == "Confirmed"
                        ? "Pending"
                        : element.status == "canceld"
                        ? "Confirmed"
                        : element.status == "Pending"
                        ? "Confirmed"
                        : "canceld"
                    }}</a
                  >
                </li>
              </ul>
              <span class="pt-3 dinga">
                <ion-icon
                  *ngIf="element.status == 'canceld'"
                  name="close-circle"
                ></ion-icon>
                <ion-icon
                  *ngIf="element.status == 'Confirmed'"
                  name="checkmark-circle"
                ></ion-icon>
                <ion-icon
                  *ngIf="element.status == 'Pending'"
                  name="cloud-download"
                ></ion-icon>
              </span>
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let element">
            <ion-button class="buttonColor">
              <ion-icon
                size="small"
                name="create"
                (click)="editData()"
              ></ion-icon>
            </ion-button>
            <ion-button class="buttonColor"   (click)="deleteData(element.id)">
              <ion-icon
                size="small"
                name="trash"
              
              ></ion-icon>
            </ion-button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          (click)="selection.toggle(row)"
        ></tr>
      </table>
    </ion-col>
    <ion-col sizeLg="12" class="">
      <button
        type="button"
        class="btn btn-outline-secondary"
        ngbPopover="You see, I show up on hover!"
        triggers="mouseenter:mouseleave"
        popoverTitle="Pop title"
      >
        Hover over me!
      </button>
    </ion-col>
  </ion-row>
</ion-grid>
